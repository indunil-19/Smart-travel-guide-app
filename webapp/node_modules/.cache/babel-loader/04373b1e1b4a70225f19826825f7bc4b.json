{"ast":null,"code":"const {\n  Client\n} = require(\"@googlemaps/google-maps-services-js\");\n\nexport const DeletePOI = async (index, index1, travelPlan = [[[], []], []]) => {\n  const client = new Client({});\n  var start_location = {};\n  var end_location = {};\n  console.log(index, index1, travelPlan);\n  var travelDays = travelPlan[0].length;\n  var plan = travelPlan[0];\n\n  if (index > 0) {\n    if (index1 > 0) {\n      console.log(\"1\");\n      start_location = plan[index][index1 - 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    } else if (index1 == 0) {\n      console.log(\"2\");\n      start_location = plan[index - 1][plan[index - 1].length - 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  } else if (index == 0) {\n    if (index1 == 0) {\n      start_location = {\n        lat: 6.927079,\n        lng: 79.857750\n      };\n      travelPlan[0][index].pop(index1);\n    } else if (index1 > 0) {\n      console.log(\"4\");\n      start_location = plan[index][index1 - 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  }\n\n  if (index < travelDays - 1) {\n    if (index1 == plan[index].length - 1) {\n      console.log(\"5\");\n      end_location = plan[index + 1][1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    } else if (index1 < plan[index].length - 1) {\n      console.log(\"6\");\n      end_location = plan[index][index1 + 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  } else if (index == travelDays - 1) {\n    if (index1 == plan[index].length - 1) {\n      console.log(\"7\");\n      travelPlan[0][index].pop(index1);\n      return;\n    } else if (index1 < plan[index].length - 1) {\n      console.log(\"8\");\n      end_location = plan[index][index1 + 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  }\n\n  return client.directions({\n    params: {\n      origin: start_location,\n      destination: end_location,\n      optimizeWaypoints: true,\n      travelMode: 'DRIVING',\n      key: \"AIzaSyCB9FiwGVeEmdfBAwxiQpPuz0fsDMiwPWY\"\n    }\n  }).then(response => {\n    const route = response.data.routes[0];\n    console.log(route);\n  }).catch(e => {\n    console.log(e);\n  });\n};\n_c = DeletePOI;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeletePOI\");","map":{"version":3,"sources":["D:/sem 5 project travel guide app/Smart-travel-guide-app/adminportal/src/services/EditPlanServices.js"],"names":["Client","require","DeletePOI","index","index1","travelPlan","client","start_location","end_location","console","log","travelDays","length","plan","geometry","location","pop","lat","lng","directions","params","origin","destination","optimizeWaypoints","travelMode","key","then","response","route","data","routes","catch","e"],"mappings":"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","sourcesContent":["const {Client} = require(\"@googlemaps/google-maps-services-js\");\r\n\r\n   \r\nexport const DeletePOI=async(index, index1, travelPlan=[[[],[]] ,[]])=>{\r\n    const client = new Client({});\r\n    var start_location={}\r\n    var end_location={}\r\n    \r\n    console.log(index,index1,travelPlan)\r\n    var travelDays=travelPlan[0].length\r\n    var plan=travelPlan[0]\r\n\r\n    if(index>0){\r\n      if(index1>0){\r\n        console.log(\"1\")\r\n        start_location=plan[index][index1-1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      else if(index1==0){\r\n        console.log(\"2\")\r\n        start_location=plan[index-1][plan[index-1].length-1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      \r\n    }\r\n    else if(index==0){\r\n      if(index1==0){\r\n        start_location={lat:6.927079,lng:79.857750}\r\n        travelPlan[0][index].pop(index1)\r\n\r\n      }\r\n      else if(index1>0){\r\n        console.log(\"4\")\r\n        start_location=plan[index][index1-1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      \r\n    }\r\n\r\n\r\n    if(index<travelDays-1){\r\n      if(index1==plan[index].length-1){\r\n        console.log(\"5\")\r\n        end_location=plan[index+1][1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      else if(index1<plan[index].length-1){\r\n        console.log(\"6\")\r\n        end_location=plan[index][index1+1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n    }\r\n    else if(index==travelDays-1){\r\n       if(index1==plan[index].length-1){\r\n\r\n        console.log(\"7\")\r\n        travelPlan[0][index].pop(index1)\r\n          return\r\n       }\r\n       else if (index1<plan[index].length-1){\r\n         console.log(\"8\")\r\n         end_location=plan[index][index1+1].geometry.location\r\n         travelPlan[0][index].pop(index1)\r\n       }\r\n    }\r\n    \r\n\r\n    return client\r\n      .directions({params:{\r\n          origin:start_location,\r\n          destination:end_location,\r\n          optimizeWaypoints: true,\r\n          travelMode: 'DRIVING',\r\n          key: \"AIzaSyCB9FiwGVeEmdfBAwxiQpPuz0fsDMiwPWY\",\r\n\r\n        }})\r\n        .then((response) => {\r\n          const route = response.data.routes[0];\r\n          console.log(route)\r\n         \r\n\r\n        })\r\n         .catch((e) =>{ \r\n           console.log(e)\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n \r\n   \r\n\r\n}"]},"metadata":{},"sourceType":"module"}