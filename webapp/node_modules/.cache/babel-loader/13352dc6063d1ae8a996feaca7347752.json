{"ast":null,"code":"var _jsxFileName = \"D:\\\\sem 5 project travel guide app\\\\Smart-travel-guide-app\\\\adminportal\\\\src\\\\screens\\\\testPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport 'photoswipe/dist/photoswipe.css';\nimport 'photoswipe/dist/default-skin/default-skin.css';\nimport PhotoswipeUIDefault from 'photoswipe/dist/photoswipe-ui-default';\nimport { CustomGallery, Item, DefaultLayout } from 'react-photoswipe-gallery';\nimport { Button } from '@chakra-ui/button';\nimport { Box, Flex } from '@chakra-ui/layout';\nimport NavBar from '../components/navbar';\nimport { DeleteIcon, ArrowUpIcon } from '@chakra-ui/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const TestPage = () => {\n  return /*#__PURE__*/_jsxDEV(NavBar, {\n    children: /*#__PURE__*/_jsxDEV(Galary, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 4\n  }, this);\n};\n_c = TestPage;\n\nconst Galary = () => {\n  _s();\n\n  const layoutRef = useRef();\n  const inputRef = useRef();\n  const [images, setImages] = useState([\"https://placekitten.com/1024/768?image=1\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\", \"https://placekitten.com/1024/768?image=2\"]);\n  const [isLoading, setLoading] = useState(false);\n  const [url, setUrl] = useState;\n\n  const postDetails = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"new-insta\");\n    data.append(\"cloud_name\", \"cnq\");\n    fetch(\"https://api.cloudinary.com/v1_1/cnq/image/upload\", {\n      method: \"post\",\n      body: data\n    }).then(res => res.json()).then(data => {\n      setUrl(data.url);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    if (url) {\n      fetch(\"/createpost\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n        },\n        body: JSON.stringify({\n          title,\n          body,\n          pic: url\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error) {\n          M.toast({\n            html: data.error,\n            classes: \"#c62828 red darken-3\"\n          });\n        } else {\n          M.toast({\n            html: \"Created post Successfully\",\n            classes: \"#43a047 green darken-1\"\n          });\n          history.push('/');\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [url]);\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"row\",\n      overflowX: \"scroll\",\n      margin: \"5\",\n      children: [/*#__PURE__*/_jsxDEV(CustomGallery, {\n        layoutRef: layoutRef,\n        ui: PhotoswipeUIDefault,\n        children: images.map(image => {\n          return /*#__PURE__*/_jsxDEV(Item, {\n            original: image,\n            thumbnail: image,\n            width: \"1024\",\n            height: \"768\",\n            children: ({\n              ref,\n              open\n            }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                ref: ref,\n                onClick: open,\n                src: image,\n                width: \"200px\",\n                height: \"200px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 11\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DefaultLayout, {\n        shareButton: false,\n        fullscreenButton: true,\n        zoomButton: true,\n        ref: layoutRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      isLoading: isLoading,\n      loadingText: \"Uploading\",\n      colorScheme: \"teal\",\n      variant: \"outline\",\n      rightIcon: /*#__PURE__*/_jsxDEV(ArrowUpIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 16\n      }, this),\n      onClick: () => inputRef.current.click(),\n      onChange: () => postDetails(),\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: inputRef,\n      type: \"file\",\n      style: {\n        display: \"none\"\n      },\n      onChange: e => setImage(e.target.files[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Galary, \"X6x6o7IL4qbkIBRAF4gpNkRDyxg=\");\n\n_c2 = Galary;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TestPage\");\n$RefreshReg$(_c2, \"Galary\");","map":{"version":3,"sources":["D:/sem 5 project travel guide app/Smart-travel-guide-app/adminportal/src/screens/testPage.js"],"names":["React","useState","useRef","PhotoswipeUIDefault","CustomGallery","Item","DefaultLayout","Button","Box","Flex","NavBar","DeleteIcon","ArrowUpIcon","TestPage","Galary","layoutRef","inputRef","images","setImages","isLoading","setLoading","url","setUrl","postDetails","data","FormData","append","image","fetch","method","body","then","res","json","catch","err","console","log","useEffect","headers","localStorage","getItem","JSON","stringify","title","pic","error","M","toast","html","classes","history","push","map","ref","open","current","click","display","e","setImage","target","files"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport 'photoswipe/dist/photoswipe.css'\r\nimport 'photoswipe/dist/default-skin/default-skin.css'\r\n\r\nimport PhotoswipeUIDefault from 'photoswipe/dist/photoswipe-ui-default'\r\nimport { CustomGallery, Item, DefaultLayout } from 'react-photoswipe-gallery'\r\nimport { Button } from '@chakra-ui/button'\r\nimport { Box, Flex } from '@chakra-ui/layout'\r\nimport NavBar from '../components/navbar'\r\nimport { DeleteIcon,ArrowUpIcon } from '@chakra-ui/icons'\r\nexport const TestPage = () => {\r\n  \r\n\r\n  return (\r\n   <NavBar>\r\n     <Galary/>\r\n   </NavBar>\r\n  )\r\n}\r\nconst Galary=()=>{\r\n  const layoutRef = useRef()\r\n  const inputRef = useRef()\r\n  const [images,setImages]=useState([\"https://placekitten.com/1024/768?image=1\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\",\"https://placekitten.com/1024/768?image=2\"])\r\n  const [isLoading,setLoading]=useState(false)\r\n  const [url,setUrl]=useState\r\n\r\n  const postDetails = ()=>{\r\n    const data = new FormData()\r\n    data.append(\"file\",image)\r\n    data.append(\"upload_preset\",\"new-insta\")\r\n    data.append(\"cloud_name\",\"cnq\")\r\n    fetch(\"https://api.cloudinary.com/v1_1/cnq/image/upload\",{\r\n        method:\"post\",\r\n        body:data\r\n    })\r\n    .then(res=>res.json())\r\n    .then(data=>{\r\n       setUrl(data.url)\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n  \r\n  \r\n  }\r\n  useEffect(()=>{\r\n    if(url){\r\n     fetch(\"/createpost\",{\r\n         method:\"post\",\r\n         headers:{\r\n             \"Content-Type\":\"application/json\",\r\n             \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n         },\r\n         body:JSON.stringify({\r\n             title,\r\n             body,\r\n             pic:url\r\n         })\r\n     }).then(res=>res.json())\r\n     .then(data=>{\r\n  \r\n        if(data.error){\r\n           M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n        }\r\n        else{\r\n            M.toast({html:\"Created post Successfully\",classes:\"#43a047 green darken-1\"})\r\n            history.push('/')\r\n        }\r\n     }).catch(err=>{\r\n         console.log(err)\r\n     })\r\n  }\r\n  },[url])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return(\r\n    <Flex flexDirection=\"column\" alignItems=\"center\">\r\n    <Flex flexDirection=\"row\" overflowX=\"scroll\" margin=\"5\">\r\n    <CustomGallery layoutRef={layoutRef} ui={PhotoswipeUIDefault}>\r\n\r\n      {images.map((image)=>{\r\n         return(\r\n          <Item\r\n          original={image}\r\n          thumbnail={image}\r\n          width=\"1024\"\r\n          height=\"768\"\r\n        >\r\n          {({ ref, open }) => (\r\n           <>\r\n            <img ref={ref} onClick={open} src={image}  width=\"200px\" height=\"200px\"/>\r\n            <Button ><DeleteIcon/></Button>\r\n           </>\r\n          )}\r\n        </Item>\r\n         )\r\n      })}\r\n   \r\n    </CustomGallery>\r\n\r\n    <DefaultLayout\r\n      shareButton={false}\r\n      fullscreenButton={true}\r\n      zoomButton={true}\r\n      ref={layoutRef}\r\n    />\r\n       \r\n    </Flex>\r\n  \r\n    <Button\r\n    isLoading={isLoading}\r\n    loadingText=\"Uploading\"\r\n    colorScheme=\"teal\"\r\n    variant=\"outline\"\r\n    rightIcon={<ArrowUpIcon/>}\r\n    onClick={()=>inputRef.current.click()}\r\n    onChange={()=>postDetails()}\r\n    \r\n  >\r\n    Upload\r\n  </Button>\r\n  <input  ref={inputRef} type=\"file\" style={{display:\"none\"}} onChange={(e)=>setImage(e.target.files[0])}/>\r\n    </Flex>\r\n    \r\n  )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}