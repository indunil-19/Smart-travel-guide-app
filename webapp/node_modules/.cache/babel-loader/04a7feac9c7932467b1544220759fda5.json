{"ast":null,"code":"var _jsxFileName = \"D:\\\\sem 5 project travel guide app\\\\Smart-travel-guide-app\\\\adminportal\\\\src\\\\screens\\\\TravelPlanApp\\\\PlanReview.js\",\n    _s = $RefreshSig$();\n\nimport { Flex, Heading, HStack, VStack } from \"@chakra-ui/layout\";\nimport { AiOutlineStar } from \"react-icons/ai\";\nimport { StarIcon } from \"@chakra-ui/icons\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { Input, Textarea, Button } from \"@chakra-ui/react\";\nimport { TravelContext } from \"../../context/TravelContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const PlanReview = () => {\n  _s();\n\n  const [rate, setRate] = useState(0);\n  const [edit, setEdit] = useState(true);\n  const [review, setReview] = useState(\"\");\n  const {\n    state,\n    dispatch\n  } = useContext(TravelContext);\n  useEffect(() => {\n    fetch('/user/getReview', {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        rate: rate,\n        review: review,\n        planId: state.planId\n      })\n    }).then(res => res.json()).then(result => {\n      if (result.data.review || result.data.rate) {\n        setRate(result.data.rate);\n        setReview(result.data.review);\n        setEdit(false);\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  }, []);\n\n  const submitReview = () => {\n    fetch('/user/addReview', {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        rate: rate,\n        review: review,\n        planId: state.planId\n      })\n    }).then(res => res.json()).then(result => {\n      if (result.data.review || result.data.rate) {\n        setRate(result.data.rate);\n        setReview(result.data.review);\n        setEdit(false);\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      p: 10,\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        minWidth: \"md\",\n        boxShadow: \"lg\",\n        borderRadius: \"lg\",\n        flexDirection: \"column\",\n        p: 5,\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(VStack, {\n          minWidth: \"md\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"xl\",\n            p: 5,\n            children: \"Your review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(HStack, {\n            p: 4,\n            children: [/*#__PURE__*/_jsxDEV(StarIcon, {\n              color: rate >= 1 ? \"teal\" : \"gray.200\",\n              onClick: () => {\n                setRate(1);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(StarIcon, {\n              color: rate >= 2 ? \"teal\" : \"gray.200\",\n              onClick: () => {\n                setRate(2);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(StarIcon, {\n              color: rate >= 3 ? \"teal\" : \"gray.200\",\n              onClick: () => {\n                setRate(3);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(StarIcon, {\n              color: rate >= 4 ? \"teal\" : \"gray.200\",\n              onClick: () => {\n                setRate(4);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(StarIcon, {\n              color: rate >= 5 ? \"teal\" : \"gray.200\",\n              onClick: () => {\n                setRate(5);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            value: review,\n            onChange: e => setReview(e.target.value),\n            placeholder: \"Describe your expereince\",\n            size: \"md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this), edit ? /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"blue\",\n            onClick: () => {\n              submitReview();\n            },\n            children: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"blue\",\n            onClick: () => {\n              setEdit(true);\n            },\n            children: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(PlanReview, \"J3IXG/pAdVx8anUE0USUJ6Vz1Hk=\");\n\n_c = PlanReview;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlanReview\");","map":{"version":3,"sources":["D:/sem 5 project travel guide app/Smart-travel-guide-app/adminportal/src/screens/TravelPlanApp/PlanReview.js"],"names":["Flex","Heading","HStack","VStack","AiOutlineStar","StarIcon","useState","useContext","useEffect","Input","Textarea","Button","TravelContext","PlanReview","rate","setRate","edit","setEdit","review","setReview","state","dispatch","fetch","method","headers","body","JSON","stringify","planId","then","res","json","result","data","catch","e","console","log","submitReview","target","value"],"mappings":"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","sourcesContent":["import { Flex, Heading, HStack, VStack } from \"@chakra-ui/layout\"\r\nimport { AiOutlineStar } from \"react-icons/ai\";\r\nimport { StarIcon } from \"@chakra-ui/icons\";\r\nimport { useState,useContext,useEffect } from \"react\";\r\nimport { Input,Textarea,Button } from \"@chakra-ui/react\"\r\nimport { TravelContext } from \"../../context/TravelContext\"\r\n\r\nexport const PlanReview=()=>{\r\n    const [rate,setRate]=useState(0)\r\n    const [edit,setEdit]=useState(true)\r\n    const [review, setReview]=useState(\"\")\r\n    const {state, dispatch}=useContext(TravelContext)\r\n\r\n    useEffect(() => {\r\n        fetch('/user/getReview',{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            },\r\n            body:JSON.stringify({\r\n                rate:rate,\r\n                review:review,\r\n                planId:state.planId\r\n                })\r\n            \r\n            }).then(res=>res.json()).\r\n            then(result=>{\r\n\r\n              if(result.data.review || result.data.rate){\r\n                setRate(result.data.rate)\r\n                setReview(result.data.review)\r\n                setEdit(false)\r\n              }\r\n               \r\n            })\r\n            .catch((e)=>{\r\n                console.log(e)\r\n            })\r\n    }, [])\r\n\r\n    const submitReview=()=>{\r\n        fetch('/user/addReview',{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            },\r\n            body:JSON.stringify({\r\n                rate:rate,\r\n                review:review,\r\n                planId:state.planId\r\n                })\r\n            }).then(res=>res.json()).\r\n            then(result=>{\r\n              if(result.data.review || result.data.rate){\r\n                setRate(result.data.rate)\r\n                setReview(result.data.review)\r\n                setEdit(false)\r\n              }\r\n               \r\n            })\r\n            .catch((e)=>{\r\n                console.log(e)\r\n            })\r\n        \r\n     }\r\n\r\n    return(\r\n\r\n        <>\r\n        \r\n        <Flex flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" p={10}>\r\n                <Flex minWidth=\"md\" boxShadow=\"lg\" borderRadius=\"lg\" flexDirection=\"column\" p={5} alignItems=\"center\">\r\n                    <VStack  minWidth=\"md\">\r\n                    <Heading size=\"xl\" p={5}>\r\n                        Your review\r\n                    </Heading>\r\n                    <HStack p={4}>\r\n                    <StarIcon color={rate>=1 ? \"teal\" : \"gray.200\"} onClick={()=>{\r\n                        setRate(1)\r\n                    }} />\r\n                    <StarIcon color={rate>=2 ? \"teal\" : \"gray.200\"} onClick={()=>{\r\n                        setRate(2)\r\n                    }} />\r\n                    <StarIcon color={rate>=3 ? \"teal\" : \"gray.200\"} onClick={()=>{\r\n                        setRate(3)\r\n                    }} />\r\n                    <StarIcon color={rate>=4 ? \"teal\" : \"gray.200\"} onClick={()=>{\r\n                        setRate(4)\r\n                    }} />\r\n                    <StarIcon color={rate>=5 ? \"teal\" : \"gray.200\"} onClick={()=>{\r\n                        setRate(5)\r\n                    }} />\r\n                    </HStack>\r\n\r\n                    <Textarea value={review}\r\n                            onChange={(e)=>setReview(e.target.value)}\r\n                        placeholder=\"Describe your expereince\"\r\n                        size=\"md\"\r\n                    />\r\n\r\n                    {edit ? <Button colorScheme=\"blue\" onClick={()=>{\r\n                            submitReview()\r\n                    }}>submit</Button> : \r\n                                <Button colorScheme=\"blue\" onClick={()=>{\r\n                                    setEdit(true)\r\n                            }}>submit</Button>\r\n                    \r\n                    }\r\n                    </VStack>\r\n                </Flex>\r\n        </Flex>\r\n        \r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}