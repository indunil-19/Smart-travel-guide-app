{"ast":null,"code":"const {\n  Client\n} = require(\"@googlemaps/google-maps-services-js\");\n\nexport const DeletePOI = async (index, index1, travelPlan = [[[], []], []]) => {\n  const client = new Client({});\n  var start_location = {};\n  var end_location = {};\n  var k = 0; // var l=0\n  // for(var i=0; i<=index;i++){\n  //   for (var j=0; j<travelPlan[i].length;j++){\n  //     var k=k+1\n  //     if(i==index && j==index1){\n  //         l=k\n  //     }\n  //   }\n  // } \n\n  console.log(index, index1, travelPlan);\n  var travelDays = travelPlan[0].length;\n  var plan = travelPlan[0];\n\n  if (index > 0) {\n    if (index1 > 0) {\n      console.log(\"1\");\n      start_location = plan[index][index1 - 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    } else if (index1 == 0) {\n      console.log(\"2\");\n      start_location = plan[index - 1][plan[index - 1].length - 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  } else if (index == 0) {\n    if (index1 == 0) {\n      start_location = {\n        lat: 6.927079,\n        lng: 79.857750\n      };\n      travelPlan[0][index].pop(index1);\n    } else if (index1 > 0) {\n      console.log(\"4\");\n      start_location = plan[index][index1 - 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  }\n\n  if (index < travelDays - 1) {\n    if (index1 == plan[index].length - 1) {\n      console.log(\"5\");\n      end_location = plan[index + 1][1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    } else if (index1 < plan[index].length - 1) {\n      console.log(\"6\");\n      end_location = plan[index][index1 + 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  } else if (index == travelDays - 1) {\n    if (index1 == plan[index].length - 1) {\n      console.log(\"7\");\n      travelPlan[0][index].pop(index1);\n      return;\n    } else if (index1 < plan[index].length - 1) {\n      console.log(\"8\");\n      end_location = plan[index][index1 + 1].geometry.location;\n      travelPlan[0][index].pop(index1);\n    }\n  }\n\n  return client.directions({\n    params: {\n      origin: start_location,\n      destination: end_location,\n      optimizeWaypoints: true,\n      travelMode: 'DRIVING',\n      key: \"AIzaSyCB9FiwGVeEmdfBAwxiQpPuz0fsDMiwPWY\"\n    }\n  }).then(response => {\n    const route = response.data.routes[0]; // travelPlan[1].pop(l)\n    // travelPlan[1][l+1]=route.legs[0]\n\n    console.log(l);\n    return travelPlan;\n  }).catch(e => {\n    console.log(e);\n  });\n};\n_c = DeletePOI;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeletePOI\");","map":{"version":3,"sources":["D:/sem 5 project travel guide app/Smart-travel-guide-app/adminportal/src/services/EditPlanServices.js"],"names":["Client","require","DeletePOI","index","index1","travelPlan","client","start_location","end_location","k","console","log","travelDays","length","plan","geometry","location","pop","lat","lng","directions","params","origin","destination","optimizeWaypoints","travelMode","key","then","response","route","data","routes","l","catch","e"],"mappings":"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","sourcesContent":["const {Client} = require(\"@googlemaps/google-maps-services-js\");\r\n\r\n   \r\nexport const DeletePOI=async(index, index1, travelPlan=[[[],[]] ,[]])=>{\r\n    const client = new Client({});\r\n    var start_location={}\r\n    var end_location={}\r\n    var k=0\r\n    // var l=0\r\n    // for(var i=0; i<=index;i++){\r\n    //   for (var j=0; j<travelPlan[i].length;j++){\r\n    //     var k=k+1\r\n    //     if(i==index && j==index1){\r\n    //         l=k\r\n    //     }\r\n    //   }\r\n    // } \r\n    \r\n    console.log(index,index1,travelPlan)\r\n    var travelDays=travelPlan[0].length\r\n    var plan=travelPlan[0]\r\n\r\n    if(index>0){\r\n      if(index1>0){\r\n        console.log(\"1\")\r\n        start_location=plan[index][index1-1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      else if(index1==0){\r\n        console.log(\"2\")\r\n        start_location=plan[index-1][plan[index-1].length-1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      \r\n    }\r\n    else if(index==0){\r\n      if(index1==0){\r\n        start_location={lat:6.927079,lng:79.857750}\r\n        travelPlan[0][index].pop(index1)\r\n\r\n      }\r\n      else if(index1>0){\r\n        console.log(\"4\")\r\n        start_location=plan[index][index1-1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      \r\n    }\r\n\r\n\r\n    if(index<travelDays-1){\r\n      if(index1==plan[index].length-1){\r\n        console.log(\"5\")\r\n        end_location=plan[index+1][1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n      else if(index1<plan[index].length-1){\r\n        console.log(\"6\")\r\n        end_location=plan[index][index1+1].geometry.location\r\n        travelPlan[0][index].pop(index1)\r\n      }\r\n    }\r\n    else if(index==travelDays-1){\r\n       if(index1==plan[index].length-1){\r\n\r\n        console.log(\"7\")\r\n        travelPlan[0][index].pop(index1)\r\n          return\r\n       }\r\n       else if (index1<plan[index].length-1){\r\n         console.log(\"8\")\r\n         end_location=plan[index][index1+1].geometry.location\r\n         travelPlan[0][index].pop(index1)\r\n       }\r\n    }\r\n    \r\n\r\n    return client\r\n      .directions({params:{\r\n          origin:start_location,\r\n          destination:end_location,\r\n          optimizeWaypoints: true,\r\n          travelMode: 'DRIVING',\r\n          key: \"AIzaSyCB9FiwGVeEmdfBAwxiQpPuz0fsDMiwPWY\",\r\n\r\n        }})\r\n        .then((response) => {\r\n          const route = response.data.routes[0];\r\n          // travelPlan[1].pop(l)\r\n          // travelPlan[1][l+1]=route.legs[0]\r\n          console.log(l)\r\n          return travelPlan\r\n         \r\n\r\n        })\r\n         .catch((e) =>{ \r\n           console.log(e)\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n \r\n   \r\n\r\n}"]},"metadata":{},"sourceType":"module"}